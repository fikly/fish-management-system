{"version":3,"sources":["services/serviceApi.js","services/serviceGeneral.js","utils/optionObject.js","schemas/contentSchema.js","views/components/content/index.jsx","utils/formatRupiah.js","views/components/modal/index.jsx","views/components/sortFilter/index.jsx","views/containers/homepages/controller.js","views/containers/homepages/index.jsx"],"names":["GetListAPI","method","url","PostListAPI","PutListAPI","DeleteListAPI","GetOptionArea","GetOptionSize","API_URL","require","store","apiService","endpoint","data","a","result","then","response","catch","error","notify","show","optionObject","value","label","KOMODITAS","PROVINSI","KOTA","UKURAN","HARGA","SingleContent","price","editContent","deleteContent","index","className","komoditas","size","area_provinsi","toLowerCase","area_kota","currency","separator","symbol","precision","format","moment","tgl_parsed","title","onClick","Modal","Container","onLoad","dispatch","useDispatch","showModal","useSelector","state","general","type","SET_MODAL_STATUS","SortFilter","dataForSchema","schema","getArea","getSize","optionSize","length","i","push","optionProvince","optionCity","find","row","province","city","options","setSchemaForFilter","filterSchema","URUTKAN","getList","list","submitForm","params","status","uuid","uuidv4","timestamp","unix","updateForm","id","search","set","deleteForm","Homepage","content","queryList","useState","contentSchema","setSchema","setFilterSchema","onEdit","setOnEdit","onDelete","setOnDelete","onLoadList","setOnLoadList","onLoadSchema","setOnLoadSchema","onLoadSubmit","setOnLoadSubmit","onSort","setOnSort","getDataForSchema","newSchema","setList","SET_LIST","filter","onSubmitForm","defaultValue","setDefaultValueSchema","submitDeleteContent","submitSortFilter","SET_QUERY_LIST","useEffect","map","newFilterSchema","model","onSubmit","action","displayName"],"mappings":"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","file":"static/js/4.8116b929.chunk.js","sourcesContent":["// List API\nexport const GetListAPI = {method: 'read', url: 'list'};\nexport const PostListAPI = {method: 'append', url: 'list'};\nexport const PutListAPI = {method: 'edit', url: 'list'};\nexport const DeleteListAPI = {method: 'delete', url: 'list'};\n\n// Option API\nexport const GetOptionArea = {method: 'read', url: 'option_area'};\nexport const GetOptionSize = {method: 'read', url: 'option_size'};\n","import {notify} from 'react-notify-toast';\n\nconst {API_URL} = require('~/constants/variable');\nconst SteinStore = require('stein-js-client');\n\nconst store = new SteinStore(API_URL);\n\nexport const apiService = async (endpoint, data) => {\n    let result= [];\n    const {method, url} = endpoint;\n\n    await store[method](url, data).then((response) => {\n        result = response;\n    }).catch(function(error) {\n        notify.show('On Error while request data!', 'error');\n        result = error.response;\n    });\n\n    return result;\n};\n","export const optionObject = (value) => {\n    return {\n        value: value,\n        label: value,\n    };\n};\n","import {HARGA, KOMODITAS, KOTA, PROVINSI, UKURAN} from '~/constants/variable';\n\nexport default {\n    [KOMODITAS]: {\n        'type': 'text',\n        'required': true,\n        'placeholder': 'Nama Komoditas',\n    },\n    [PROVINSI]: {\n        'type': 'select',\n        'required': true,\n        'options': [],\n        'placeholder': 'Pilih Provinsi',\n    },\n    [KOTA]: {\n        'type': 'select',\n        'required': true,\n        'options': [],\n        'placeholder': 'Pilih Kota',\n    },\n    [UKURAN]: {\n        'type': 'select',\n        'required': true,\n        'options': [],\n        'placeholder': 'Pilih Ukuran (cm)',\n    },\n    [HARGA]: {\n        'type': 'currency',\n        'required': true,\n        'placeholder': 'IDR.',\n    },\n    'Simpan Content': {\n        'type': 'submit',\n    },\n};\n","import moment from 'moment';\nimport React, {Fragment} from 'react';\nimport {BiEdit, BiTrashAlt} from 'react-icons/bi';\nimport {IoFishOutline} from 'react-icons/io5';\nimport {formatRupiah} from '~/utils/formatRupiah';\n\nimport './style/singleContent.scss';\n\nconst SingleContent = ({data, editContent, deleteContent, index}) => {\n    return (\n        <div className=\"single-content custom-card mb-20p d-flex align-items-center\">\n            <Fragment>\n                <div className=\"icon d-flex justify-content-center align-items-center\">\n                    <IoFishOutline />\n                </div>\n                <div className=\"ml-16p detail-content flex-grow-1\">\n                    <h4 className=\"font-16 font-600 mb-8p d-flex justify-content-between\">{data.komoditas} <span className=\"font-10 color-grey font-300\">({data.size}cm)</span></h4>\n                    <h6 className=\"font-12 font-300 color-grey text-capitalize\">{`${data.area_provinsi.toLowerCase()} - ${data.area_kota.toLowerCase()}`}</h6>\n                    <h5 className=\"font-14 font-700 color-primary mt-4p\">{formatRupiah(data.price)}</h5>\n                    <h5 className=\"font-12 font-300 color-grey\">{moment(data.tgl_parsed).format('MMM Do YYYY')}</h5>\n                </div>\n                <div className=\"action-content d-flex font-20\">\n                    <BiEdit title=\"Edit\" className=\"mr-16p cursor-pointer color-primary\" onClick={() => editContent(index)} />\n                    <BiTrashAlt title=\"Delete\" className=\"cursor-pointer color-error\" onClick={() => deleteContent(index)} />\n                </div>\n            </Fragment>\n        </div>\n    );\n};\n\nexport default SingleContent;\n","import currency from 'currency.js';\n\nexport const formatRupiah = (price) => {\n    return currency(price, {separator: ',', symbol: 'IDR ', precision: 0}).format();\n};\n","import React, {Fragment} from 'react';\nimport {BiX} from 'react-icons/bi';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {SET_MODAL_STATUS} from '~/states/actions/generalAction';\nimport Loading from '../loading';\n\nimport './style/modal.scss';\n\nconst Modal = ({title, Container, onLoad}) =>{\n    const dispatch = useDispatch();\n    const general = useSelector((state) => state.general);\n    const {showModal} = general;\n\n    const closeModal = () => {\n        dispatch({type: SET_MODAL_STATUS, data: false});\n    };\n    return (\n        <Fragment>\n            <div className={`modal-overlay d-flex align-items-center ${showModal ? '' : 'd-none'}`}>\n                <div className=\"container-fluid\">\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-lg-4 modal-component d-flex flex-column with-shadow\">\n                            <div className=\"modal-title p-3 d-flex align-items-center justify-content-between with-shadow\">\n                                <h4 className=\"font-20 font-500\">{title}</h4>\n                                <BiX onClick={() => closeModal()} className=\"font-26 cursor-pointer\" />\n                            </div>\n                            <div className=\"modal-body flex-grow-1\">\n                                <Container />\n                                {onLoad &&\n                                <div className=\"modal-loading\"><Loading /></div>}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Fragment>\n    );\n};\n\nexport default Modal;\n","import React, {Fragment} from 'react';\nimport {BiFilter, BiSortAlt2} from 'react-icons/bi';\n\nimport './style/sortFilter.scss';\n\nconst SortFilter = ({onClick}) => {\n    return (\n        <Fragment>\n            <div className=\"sort-filter-button with-shadow d-flex align-items-center justify-content-center\" onClick={() => onClick()}>\n                <BiFilter title=\"Filter\" /> / <BiSortAlt2 title=\"Sort\" />\n            </div>\n        </Fragment>\n    );\n};\n\nexport default SortFilter;\n","import moment from 'moment';\nimport {notify} from 'react-notify-toast';\nimport {v4 as uuidv4} from 'uuid';\nimport {HARGA, KOMODITAS, KOTA, PROVINSI, UKURAN, URUTKAN} from '~/constants/variable';\n\nconst {GetOptionArea, GetOptionSize, GetListAPI, PostListAPI, PutListAPI, DeleteListAPI} = require('~/services/serviceApi');\nconst {apiService} = require('~/services/serviceGeneral');\nconst {optionObject} = require('~/utils/optionObject');\n\nexport const dataForSchema = async (schema) => {\n    const getArea = await apiService(GetOptionArea);\n    const getSize = await apiService(GetOptionSize);\n\n    const optionSize = [];\n    if (getSize && getSize.length > 0) {\n        for (let i = 0; i < getSize.length; i++) {\n            optionSize.push(optionObject(getSize[i].size));\n        };\n    }\n\n    const optionProvince = [];\n    const optionCity = [];\n    if (getArea && getArea.length > 0) {\n        for (let i = 0; i < getArea.length; i++) {\n            const findSimilarProvince = optionProvince.find((row) => row.label === getArea[i].province);\n            if (!findSimilarProvince) {\n                optionProvince.push(optionObject(getArea[i].province));\n            }\n            const findSimilarCity = optionCity.find((row) => row.label === getArea[i].city);\n            if (!findSimilarCity) {\n                optionCity.push(optionObject(getArea[i].city));\n            }\n        };\n    }\n\n    schema[UKURAN].options = optionSize;\n    schema[PROVINSI].options = optionProvince;\n    schema[KOTA].options = optionCity;\n\n    return schema;\n};\n\nexport const setSchemaForFilter = (schema, value) => {\n    const filterSchema = {};\n    filterSchema[PROVINSI] = {\n        ...schema[PROVINSI],\n        'required': false,\n        'defaultValue': value[PROVINSI] ? value[PROVINSI].value : '',\n    };\n    filterSchema[KOTA] = {\n        ...schema[KOTA],\n        'required': false,\n        'defaultValue': value[KOTA] ? value[KOTA].value : '',\n    };\n    filterSchema[UKURAN] = {\n        ...schema[UKURAN],\n        'required': false,\n        'defaultValue': value[UKURAN] ? value[UKURAN].value : '',\n    };\n    filterSchema[URUTKAN] = {\n        'type': 'select',\n        'required': false,\n        'options': [\n            {value: 'komoditas-asc', label: 'Komoditas (A-Z)'},\n            {value: 'komoditas-desc', label: 'Komoditas (Z-A)'},\n            {value: 'area_provinsi-asc', label: 'Provinsi (A-Z)'},\n            {value: 'area_provinsi-desc', label: 'Provinsi (Z-A)'},\n            {value: 'area_kota-asc', label: 'Kota (A-Z)'},\n            {value: 'area_kota-desc', label: 'Kota (Z-A)'},\n            {value: 'price-asc', label: 'Harga Termurah'},\n            {value: 'price-desc', label: 'Harga Termahal'},\n            {value: 'size-asc', label: 'Ukuran Terkecil'},\n            {value: 'size-desc', label: 'Ukuran Terbesar'},\n        ],\n        'placeholder': 'Tanggal dibuat (default)',\n        'defaultValue': value[URUTKAN] ? value[URUTKAN].value : '',\n    };\n    filterSchema['Submit Filter / Sort'] = {\n        'type': 'submit',\n    };\n\n    return filterSchema;\n};\n\nexport const getList = async () => {\n    let result = [];\n    const list = await apiService(GetListAPI);\n    if (list && list.length > 0) {\n        result = list;\n    }\n\n    return result;\n};\n\nexport const submitForm = async (params) => {\n    const result = {\n        status: false,\n    };\n    try {\n        const data = {\n            uuid: uuidv4(),\n            komoditas: params[KOMODITAS],\n            area_provinsi: params[PROVINSI].value,\n            area_kota: params[KOTA].value,\n            size: params[UKURAN].value,\n            price: params[HARGA],\n            tgl_parsed: moment().format(),\n            timestamp: moment().unix(),\n        };\n\n        await apiService(PostListAPI, [data]);\n        notify.show('Success create content', 'success');\n        result.status = true;\n    } catch (error) {\n        result.status = false;\n        notify.show('On Error on create content', 'error');\n    }\n\n    return result;\n};\n\nexport const updateForm = async (params, id) => {\n    const result = {\n        status: false,\n    };\n    try {\n        const data = {\n            komoditas: params[KOMODITAS],\n            area_provinsi: params[PROVINSI].value,\n            area_kota: params[KOTA].value,\n            size: params[UKURAN].value,\n            price: params[HARGA],\n            tgl_parsed: moment().format(),\n            timestamp: moment().unix(),\n        };\n\n        await apiService(PutListAPI, {\n            search: {uuid: id},\n            set: data,\n        });\n        notify.show('Success update content', 'success');\n        result.status = true;\n    } catch (error) {\n        result.status = false;\n        notify.show('On Error on update content', 'error');\n    }\n\n    return result;\n};\n\nexport const deleteForm = async (id) => {\n    const result = {\n        status: false,\n    };\n    try {\n        await apiService(DeleteListAPI, {\n            search: {uuid: id},\n        });\n        notify.show('Success delete content', 'success');\n        result.status = true;\n    } catch (error) {\n        result.status = false;\n        notify.show('On Error on delete content', 'error');\n    }\n\n    return result;\n};\n\nexport const setDefaultValueSchema = (schema, content) => {\n    schema[KOMODITAS].defaultValue = (content !== '' ? content.komoditas : content);\n    schema[PROVINSI].defaultValue = (content !== '' ? content.area_provinsi : content);\n    schema[KOTA].defaultValue = (content !== '' ? content.area_kota : content);\n    schema[UKURAN].defaultValue = (content !== '' ? content.size : content);\n    schema[HARGA].defaultValue = (content !== '' ? content.price : content);\n    return schema;\n};\n","import React, {Fragment, useEffect, useState} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport JsonToForm from 'json-reactform';\nimport contentSchema from '~/schemas/contentSchema';\nimport {SET_LIST, SET_QUERY_LIST} from '~/states/actions/contentAction';\nimport {SET_MODAL_STATUS} from '~/states/actions/generalAction';\nimport SingleContent from '~/views/components/content';\nimport Modal from '~/views/components/modal';\nimport Button from '~/views/components/button';\nimport SortFilter from '~/views/components/sortFilter';\n\nimport {dataForSchema, deleteForm, getList, setDefaultValueSchema, setSchemaForFilter, submitForm, updateForm} from './controller';\nimport Loading from '~/views/components/loading';\nimport {KOMODITAS} from '~/constants/variable';\n\nconst Homepage = () => {\n    const dispatch = useDispatch();\n    const content = useSelector((state) => state.content);\n    const general = useSelector((state) => state.general);\n    const {showModal} = general;\n    const {list, queryList} = content;\n    const [schema, setSchema] = useState(contentSchema);\n    const [filterSchema, setFilterSchema] = useState({});\n    const [onEdit, setOnEdit] = useState('');\n    const [onDelete, setOnDelete] = useState('');\n    const [onLoadList, setOnLoadList] = useState(false);\n    const [onLoadSchema, setOnLoadSchema] = useState(false);\n    const [onLoadSubmit, setOnLoadSubmit] = useState(false);\n    const [onSort, setOnSort] = useState(false);\n\n    const getDataForSchema = async () => {\n        const newSchema = await dataForSchema(schema);\n        setSchema(newSchema);\n        const filterSchema = setSchemaForFilter(newSchema, queryList);\n        setFilterSchema(filterSchema);\n        setOnLoadSchema(true);\n    };\n\n    const setList = async () =>{\n        setOnLoadList(false);\n        const list = await getList();\n        setOnLoadList(true);\n        dispatch({type: SET_LIST, data: list.filter((row) => row.uuid)});\n    };\n\n    const onSubmitForm = async (params) => {\n        setOnLoadSubmit(true);\n        const submit = await (onEdit ? updateForm(params, onEdit.uuid) : submitForm(params));\n        if (submit.status) {\n            setList();\n            dispatch({type: SET_MODAL_STATUS, data: false});\n        }\n        editContent('');\n        setOnLoadSubmit(false);\n    };\n\n    const editContent = (index) => {\n        setOnLoadSchema(false);\n        const content = (index !== '' ? list[index] : index);\n        const newSchema = setDefaultValueSchema(schema, content);\n        setSchema(newSchema);\n        setOnLoadSchema(true);\n        setOnEdit(content);\n        if (index !== '') {\n            dispatch({type: SET_MODAL_STATUS, data: true});\n        }\n    };\n\n    const deleteContent = async (index) => {\n        const content = list[index];\n        setOnDelete(content);\n        dispatch({type: SET_MODAL_STATUS, data: true});\n    };\n\n    const submitDeleteContent = async () =>{\n        setOnLoadSubmit(true);\n        const submit = await deleteForm(onDelete.uuid);\n        if (submit.status) {\n            setOnDelete('');\n            setList();\n            dispatch({type: SET_MODAL_STATUS, data: false});\n        }\n        setOnLoadSubmit(false);\n    };\n\n    const resetDeleteContent = () => {\n        setOnDelete('');\n        dispatch({type: SET_MODAL_STATUS, data: false});\n    };\n\n    const onOpenSortFilter = () => {\n        const newFilterSchema = setSchemaForFilter(filterSchema, queryList);\n        setFilterSchema(newFilterSchema);\n        dispatch({type: SET_MODAL_STATUS, data: true});\n        setOnSort(true);\n    };\n\n    const submitSortFilter = (params) => {\n        dispatch({type: SET_MODAL_STATUS, data: false});\n        dispatch({type: SET_QUERY_LIST, data: params});\n    };\n\n    useEffect(() => {\n        if (!showModal) {\n            setOnSort(false);\n            setOnDelete('');\n            editContent('');\n        };\n    }, [showModal]);\n\n    useEffect(() => {\n        getDataForSchema();\n        setList();\n    }, []);\n\n    const ModalBodyContent = () => {\n        return (\n            <Fragment>\n                {(!onSort && onDelete === '' && onLoadSchema) &&\n                <JsonToForm model={schema} onSubmit={onSubmitForm} />}\n                {onDelete &&\n                <div className=\"d-flex flex-column align-items-center\">\n                    <h5 className=\"mb-32p\">Are you sure you want to delete <b>{onDelete[KOMODITAS]}</b> ?</h5>\n                    <div className=\"d-flex\">\n                        <Button type=\"default\" label=\"No\" action={() => resetDeleteContent()} className=\"mr-8p\" />\n                        <Button type=\"danger\" label=\"Yes\" action={() => submitDeleteContent()} />\n                    </div>\n                </div>}\n                {onSort &&\n                <JsonToForm model={filterSchema} onSubmit={submitSortFilter} />}\n            </Fragment>\n        );\n    };\n\n    return (\n        <Fragment>\n            {!onLoadList ? (\n                <Loading />\n            ) : (\n                <Fragment>\n                    {(list.length) > 0 ? (\n                        <div className=\"row\">\n                            {list.map((row, i) => {\n                                return (\n                                    <div className=\"col-lg-6\" key={i}>\n                                        <SingleContent data={row} editContent={editContent} deleteContent={deleteContent} index={i} />\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    ) : (\n                        <div className=\"h-100 d-flex flex-column justify-content-center align-items-center\">\n                            <h5 className=\"font-400 font-24\">Empty List</h5>\n                        </div>\n                    )}\n                    <SortFilter onClick={onOpenSortFilter} />\n                </Fragment>\n            )}\n            <Modal title={`${onSort ? 'Filter/Sort' : 'Manage'} Content`} Container={ModalBodyContent} onLoad={onLoadSubmit} />\n        </Fragment>\n    );\n};\n\nHomepage.displayName = 'homepageContainer';\n\nexport default Homepage;\n"],"sourceRoot":""}